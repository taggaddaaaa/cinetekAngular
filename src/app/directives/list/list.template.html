<div class="container">

  <div class="alert alert-success" ng-show="movieSuccess">
    <a href="" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <strong>Film supprimé !</strong>
  </div>

  <div class="alert alert-warning" ng-show="movieError">
    <a href="" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <strong>Erreur ! Film non supprimé</strong>
  </div>




  <h1>Liste des films</h1>
  <br/>
  <div class="form-group">
    <label>Recherche :</label>
    <input type="text" ng-model='filterByTitle' placeholder="Titre"/>
    <input type="text" ng-model='filterByDirector' placeholder="Réalisateur"/>
    <input type="text" ng-model='filterByActors' placeholder="Acteurs"/>
  </div>

  <table class="table table-striped table-bordered table-active">
    <thead>
    <tr>
      <th>Titre</th>
      <th>Réalisateur</th>
      <th>Acteurs</th>
      <th>Note</th>
      <th>Modifier</th>
      <th>Supprimer</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="movie in movies | filter:{title:filterByTitle, director:filterByDirector, actors:{lastname:filterByActors}}">
      <td>{{movie.title}}</td>
      <td>{{movie.director}}</td>
      <td>
        <span ng-repeat="actor in movie.actors">{{actor.firstname}} {{actor.lastname}}{{$last ? '' : ', '}}</span>
      </td>
      <td>{{movie.rate.id}}</td>
      <td>
        <button type="button" class="glyphicon glyphicon-pencil btn btn-success" ng-click="redirect('/update/'+ movie.$id)"></button>
      </td>
      <td><button type="button" class="glyphicon glyphicon-trash btn btn-danger" ng-click="delete(movie)"></button></td>

    </tr>
    </tbody>
  </table>

  <br/>

  <button type="button" ng-click="redirect('/create')" class="btn btn-primary">Créer</button>
</div>
